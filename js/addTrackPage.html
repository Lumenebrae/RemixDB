<!DOCTYPE html>
<html lang="en-US">
  <div>
    User ID (TEMP):&nbsp;
    <input
      id="field_uid"
      className="long"
      type="text"
    />
    <p class="SongUploadHeader">Add a Song</p>
    <form id="songform" className="inputs">
      Song Title:&nbsp;
      <input
        id="field_trackname"
        className="long"
        type="text"
      />
      <br /> <br />
      Length:&nbsp;
      <input
        id="field_tracklength"
        className="long"
        type="text"
      />
      <br /> <br />
      Genre:&nbsp;
      <input
        id="field_trackgenre"
        className="long"
        type="text"
      />
    </form>
    <button onclick="addSong()">Add Song</button>

    <p class="ArtistUploadHeader">New Artist</p>
    <form id="artistform" className="inputs">
      Artist Name:&nbsp;
      <input
        id="field_artistname"
        className="long"
        type="text"
      />
      <br /> <br />
    </form>
    <button onclick="addArtist()">Add Artist</button>

    <p class="GroupUploadHeader">New Group</p>
    <form id="groupform" className="inputs">
      Artist Name:&nbsp;
      <input
        id="field_groupname"
        className="long"
        type="text"
      />
      <br /> <br />
      Length:&nbsp;
      <input
        id="field_groupyear"
        className="long"
        type="text"
      />
      <br /> <br />
      Length:&nbsp;
      <input
        id="field_grouptype"
        className="long"
        type="text"
      />
      <br /> <br />
    </form>
    <button onclick="addGroup()">Add Group</button>

    <p class="AlbumUploadHeader">New Album</p>
    <form id="artistform" className="inputs">
      Album Name:&nbsp;
      <input
        id="field_albumtitle"
        className="long"
        type="text"
      />
      <br /> <br />
      GID/AID(TEMP):&nbsp;
      <input
        id="field_albumcredit"
        className="long"
        type="text"
      />
      <br /> <br />
      Is this a (Group | Artist):&nbsp;
      <input
        id="field_credittype"
        className="long"
        type="text"
      />
      <br /> <br />
    </form>
    <button onclick="addAlbum()">Add Album</button>
  </div>
  <p class="meme">JavaScript makes HTML pages more dynamic and interactive.&#x263A;</p>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    function addSong() {
      //null safety later
      var user = document.getElementById("field_uid").value;
      var trackname = document.getElementById("field_trackname").value;
      var length = document.getElementById("field_tracklength").value;
      var genre = document.getElementById("field_trackgenre").value;


      var url = "http://localhost:8000/addTrack.php?q=" + trackname + "_" + length + "_" + genre + "_0";
      downloadUrl(url, function(data) {

      var xml = data.responseXML;
      console.log(xml);
      });
    }

    function addArtist() {

    }
    function addGroup() {

    }
    function addAlbum() {
      //will need to bunch these all up into one compound request, but for now...
    }


    function downloadUrl(url, callback) {
        var request = window.ActiveXObject ?
            new ActiveXObject('Microsoft.XMLHTTP') :
            new XMLHttpRequest;

            request.onreadystatechange = function() {
              if (request.readyState == 4) {
                request.onreadystatechange = doNothing;
                callback(request, request.status);
              }
            };

        request.open('GET', url, true);
        request.send(null);
        return 0;
    }

    function doNothing() {}


  </script>
  <!--
    <script>
    function verify(elmnt,clr) {
      elmnt.style.color = clr;
    }
    </script>
  -->
</html>
